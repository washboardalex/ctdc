{"ast":null,"code":"import _classCallCheck from \"D:/work/ctdc/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/work/ctdc/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:/work/ctdc/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:/work/ctdc/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/work/ctdc/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/work/ctdc/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"D:/work/ctdc/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Fade from 'react-reveal/Fade';\nimport ReactLoading from 'react-loading';\nimport './ContactForm.module.css';\n\nvar ContactForm = /*#__PURE__*/function (_Component) {\n  _inherits(ContactForm, _Component);\n\n  var _super = _createSuper(ContactForm);\n\n  function ContactForm() {\n    var _this;\n\n    _classCallCheck(this, ContactForm);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, name, value), function () {\n        _this.validateField(name, value);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateField\", function (fieldName, value) {\n      _this.setState(_defineProperty({}, fieldName.concat(\"Valid\"), value.length > 0), _this.validateForm);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateForm\", function () {\n      _this.setState(function (prevState) {\n        return {\n          formValid: _this.state.firstNameValid && _this.state.phoneNumberValid\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function () {\n      _this.validateField('firstName', _this.state.firstName);\n\n      _this.validateField('phoneNumber', _this.state.phoneNumber);\n\n      var _this$state = _this.state,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          phoneNumber = _this$state.phoneNumber,\n          emailAddress = _this$state.emailAddress,\n          messageText = _this$state.messageText;\n      var data = {\n        firstName: firstName,\n        lastName: lastName,\n        phoneNumber: phoneNumber,\n        emailAddress: emailAddress,\n        messageText: messageText\n      };\n\n      if (_this.state.formValid === true) {\n        _this.setState(function (prevState) {\n          return {\n            loadingState: 'loading'\n          };\n        });\n\n        fetch('/api/contact', {\n          // '/api/contact'\n          method: 'post',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(function (res) {\n          res.status === 200 ? _this.setState({\n            loadingState: 'submitted'\n          }) : _this.setState({\n            loadingState: 'error'\n          });\n        });\n      }\n    });\n\n    _this.state = {\n      firstName: '',\n      lastName: '',\n      phoneNumber: '',\n      emailAddress: '',\n      messageText: '',\n      firstNameValid: true,\n      phoneNumberValid: true,\n      formValid: false,\n      loadingState: 'pre-load',\n      isLoading: false,\n      error: false,\n      submitted: false\n    };\n    return _this;\n  }\n\n  _createClass(ContactForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        className: \"contact-form-background\"\n      }, __jsx(\"div\", {\n        className: \"col-12 contact-form-align\"\n      }, __jsx(\"div\", {\n        className: \"row contact-form-container contact-form-container-width\"\n      }, __jsx(\"div\", {\n        className: \"col-12 contact-form-heading\"\n      }, __jsx(\"h1\", {\n        name: \"contactsection\"\n      }, \"CONTACT\")), __jsx(\"div\", {\n        className: \"col-6 align-contact-inputs\"\n      }, __jsx(\"div\", {\n        className: \"contact-input-wrapper\"\n      }, __jsx(\"input\", {\n        name: \"firstName\",\n        value: this.state.firstName,\n        onChange: function onChange(e) {\n          return _this2.onChange(e);\n        },\n        placeholder: \"First Name (required)\",\n        type: \"text\",\n        className: \"contact-form-input \".concat(this.state.firstNameValid ? '' : 'contact-form-error-class')\n      }))), __jsx(\"div\", {\n        className: \"col-6 align-contact-inputs\"\n      }, __jsx(\"div\", {\n        className: \"contact-input-wrapper\"\n      }, __jsx(\"input\", {\n        name: \"lastName\",\n        value: this.state.lastName,\n        onChange: function onChange(e) {\n          return _this2.onChange(e);\n        },\n        placeholder: \"Last Name\",\n        type: \"text\",\n        className: \"contact-form-input\"\n      }))), __jsx(\"div\", {\n        className: \"col-12 align-contact-inputs\"\n      }, __jsx(\"div\", {\n        className: \"contact-input-wrapper\"\n      }, __jsx(\"input\", {\n        name: \"phoneNumber\",\n        value: this.state.phoneNumber,\n        onChange: function onChange(e) {\n          return _this2.onChange(e);\n        },\n        placeholder: \"Phone Number (required)\",\n        type: \"text\",\n        className: \"contact-form-input \".concat(this.state.phoneNumberValid ? '' : 'contact-form-error-class')\n      }))), __jsx(\"div\", {\n        className: \"col-12 align-contact-inputs\"\n      }, __jsx(\"div\", {\n        className: \"contact-input-wrapper\"\n      }, __jsx(\"input\", {\n        name: \"emailAddress\",\n        value: this.state.emailAddress,\n        onChange: function onChange(e) {\n          return _this2.onChange(e);\n        },\n        placeholder: \"Email\",\n        type: \"text\",\n        className: \"contact-form-input\"\n      }))), __jsx(\"div\", {\n        className: \"col-12 align-contact-inputs\"\n      }, __jsx(\"div\", {\n        className: \"textarea-wrapper\"\n      }, __jsx(\"textarea\", {\n        name: \"messageText\",\n        value: this.state.messageText,\n        onChange: function onChange(e) {\n          return _this2.onChange(e);\n        },\n        placeholder: \"Your Message\",\n        type: \"text\",\n        className: \"contact-form-textarea\"\n      }))), __jsx(Fade, {\n        bottom: true\n      }, __jsx(\"div\", {\n        className: \"col-12 align-contact-inputs\"\n      }, this.state.loadingState === 'pre-load' && __jsx(\"button\", {\n        onClick: this.onSubmit,\n        className: \"contact-submit-button\"\n      }, \"SUBMIT\"), this.state.loadingState === 'loading' && __jsx(\"div\", {\n        className: \"col-12 spinner-wrapper\"\n      }, __jsx(ReactLoading, {\n        type: \"spin\",\n        color: \"white\",\n        height: 80,\n        width: 80\n      })), this.state.loadingState === 'submitted' && __jsx(\"div\", {\n        className: \"col-12\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col-12 spinner-wrapper\"\n      }, __jsx(\"i\", {\n        style: {\n          color: 'white',\n          fontSize: '80px'\n        },\n        className: \"material-icons\"\n      }, \" check_circle \")), __jsx(\"div\", {\n        className: \"col-12 contact-spinner-txt\"\n      }, __jsx(\"p\", null, \"Thank you for your message.\"), __jsx(\"p\", null, \"We will contact you within 24 hours.\")))), this.state.loadingState === 'error' && __jsx(\"div\", {\n        className: \"col-12\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col-12 spinner-wrapper\"\n      }, __jsx(\"i\", {\n        style: {\n          color: 'white',\n          fontSize: '80px'\n        },\n        className: \"material-icons\"\n      }, \" error \")), __jsx(\"div\", {\n        className: \"col-12 contact-spinner-txt\"\n      }, __jsx(\"p\", null, \"Oops, something went wrong!\"), __jsx(\"p\", null, \"Please call 0431 771 088.\")))))))), __jsx(\"span\", {\n        className: \"website-by\"\n      }, __jsx(\"a\", {\n        target: \"_blank\",\n        href: \"http://aleksandargujas.net\"\n      }, \"Website by AG Web Dev\")));\n    }\n  }]);\n\n  return ContactForm;\n}(Component);\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}