{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Fade from 'react-reveal/Fade';\nimport ReactLoading from 'react-loading';\nimport './ContactForm.module.scss';\n\nclass ContactForm extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"onChange\", e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      }, () => {\n        this.validateField(name, value);\n      });\n    });\n\n    _defineProperty(this, \"validateField\", (fieldName, value) => {\n      this.setState({\n        [fieldName.concat(\"Valid\")]: value.length > 0\n      }, this.validateForm);\n    });\n\n    _defineProperty(this, \"validateForm\", () => {\n      this.setState(prevState => ({\n        formValid: this.state.firstNameValid && this.state.phoneNumberValid\n      }));\n    });\n\n    _defineProperty(this, \"onSubmit\", () => {\n      this.validateField('firstName', this.state.firstName);\n      this.validateField('phoneNumber', this.state.phoneNumber);\n      const {\n        firstName,\n        lastName,\n        phoneNumber,\n        emailAddress,\n        messageText\n      } = this.state;\n      const data = {\n        firstName,\n        lastName,\n        phoneNumber,\n        emailAddress,\n        messageText\n      };\n\n      if (this.state.formValid === true) {\n        this.setState(prevState => ({\n          loadingState: 'loading'\n        }));\n        fetch('/api/contact', {\n          // '/api/contact'\n          method: 'post',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(res => {\n          res.status === 200 ? this.setState({\n            loadingState: 'submitted'\n          }) : this.setState({\n            loadingState: 'error'\n          });\n        });\n      }\n    });\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      phoneNumber: '',\n      emailAddress: '',\n      messageText: '',\n      firstNameValid: true,\n      phoneNumberValid: true,\n      formValid: false,\n      loadingState: 'pre-load',\n      isLoading: false,\n      error: false,\n      submitted: false\n    };\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"contact-form-background\"\n    }, __jsx(\"div\", {\n      className: \"col-12 contact-form-align\"\n    }, __jsx(\"div\", {\n      className: \"row contact-form-container contact-form-container-width\"\n    }, __jsx(\"div\", {\n      className: \"col-12 contact-form-heading\"\n    }, __jsx(\"h1\", {\n      name: \"contactsection\"\n    }, \"CONTACT\")), __jsx(\"div\", {\n      className: \"col-6 align-contact-inputs\"\n    }, __jsx(\"div\", {\n      className: \"contact-input-wrapper\"\n    }, __jsx(\"input\", {\n      name: \"firstName\",\n      value: this.state.firstName,\n      onChange: e => this.onChange(e),\n      placeholder: \"First Name (required)\",\n      type: \"text\",\n      className: `contact-form-input ${this.state.firstNameValid ? '' : 'contact-form-error-class'}`\n    }))), __jsx(\"div\", {\n      className: \"col-6 align-contact-inputs\"\n    }, __jsx(\"div\", {\n      className: \"contact-input-wrapper\"\n    }, __jsx(\"input\", {\n      name: \"lastName\",\n      value: this.state.lastName,\n      onChange: e => this.onChange(e),\n      placeholder: \"Last Name\",\n      type: \"text\",\n      className: \"contact-form-input\"\n    }))), __jsx(\"div\", {\n      className: \"col-12 align-contact-inputs\"\n    }, __jsx(\"div\", {\n      className: \"contact-input-wrapper\"\n    }, __jsx(\"input\", {\n      name: \"phoneNumber\",\n      value: this.state.phoneNumber,\n      onChange: e => this.onChange(e),\n      placeholder: \"Phone Number (required)\",\n      type: \"text\",\n      className: `contact-form-input ${this.state.phoneNumberValid ? '' : 'contact-form-error-class'}`\n    }))), __jsx(\"div\", {\n      className: \"col-12 align-contact-inputs\"\n    }, __jsx(\"div\", {\n      className: \"contact-input-wrapper\"\n    }, __jsx(\"input\", {\n      name: \"emailAddress\",\n      value: this.state.emailAddress,\n      onChange: e => this.onChange(e),\n      placeholder: \"Email\",\n      type: \"text\",\n      className: \"contact-form-input\"\n    }))), __jsx(\"div\", {\n      className: \"col-12 align-contact-inputs\"\n    }, __jsx(\"div\", {\n      className: \"textarea-wrapper\"\n    }, __jsx(\"textarea\", {\n      name: \"messageText\",\n      value: this.state.messageText,\n      onChange: e => this.onChange(e),\n      placeholder: \"Your Message\",\n      type: \"text\",\n      className: \"contact-form-textarea\"\n    }))), __jsx(Fade, {\n      bottom: true\n    }, __jsx(\"div\", {\n      className: \"col-12 align-contact-inputs\"\n    }, this.state.loadingState === 'pre-load' && __jsx(\"button\", {\n      onClick: this.onSubmit,\n      className: \"contact-submit-button\"\n    }, \"SUBMIT\"), this.state.loadingState === 'loading' && __jsx(\"div\", {\n      className: \"col-12 spinner-wrapper\"\n    }, __jsx(ReactLoading, {\n      type: \"spin\",\n      color: \"white\",\n      height: 80,\n      width: 80\n    })), this.state.loadingState === 'submitted' && __jsx(\"div\", {\n      className: \"col-12\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-12 spinner-wrapper\"\n    }, __jsx(\"i\", {\n      style: {\n        color: 'white',\n        fontSize: '80px'\n      },\n      className: \"material-icons\"\n    }, \" check_circle \")), __jsx(\"div\", {\n      className: \"col-12 contact-spinner-txt\"\n    }, __jsx(\"p\", null, \"Thank you for your message.\"), __jsx(\"p\", null, \"We will contact you within 24 hours.\")))), this.state.loadingState === 'error' && __jsx(\"div\", {\n      className: \"col-12\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-12 spinner-wrapper\"\n    }, __jsx(\"i\", {\n      style: {\n        color: 'white',\n        fontSize: '80px'\n      },\n      className: \"material-icons\"\n    }, \" error \")), __jsx(\"div\", {\n      className: \"col-12 contact-spinner-txt\"\n    }, __jsx(\"p\", null, \"Oops, something went wrong!\"), __jsx(\"p\", null, \"Please call 0431 771 088.\")))))))), __jsx(\"span\", {\n      className: \"website-by\"\n    }, __jsx(\"a\", {\n      target: \"_blank\",\n      href: \"http://aleksandargujas.net\"\n    }, \"Website by AG Web Dev\")));\n  }\n\n}\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}